---
title: 关于win10 + libtorch1.2 + opencv3.4.12 + Qt5 +vs2017 的采坑集合
categories: [项目]
comments: true
---

# libtorch

## libtorch+vs 部署

参见链接 https://mingkangxiong.github.io/2020/07/03/Windows%E4%B8%8B%E4%BD%BF%E7%94%A8C++%E8%B0%83%E7%94%A8pytorch%E6%A8%A1%E5%9E%8B%E6%95%99%E7%A8%8B-VS%E5%B7%A5%E7%A8%8B.html 

注意，在“链接器->输入->附加依赖项”中写入静态库名称时，实际上是将该版本libtorch相应文件夹下面的所有.lib文件写入进去，不要直接复制原博客的列表，不同版本的lib文件是不一样的。

## libtorch 常见问题
这里首先要注意的是libtorch在下载的时候一定要注意其版本。 我们用于生成固化模型的pytorch版本要严格与libtorch对应。否则会在编译成功后，读取模型时出现异常。笔者尝试成功的比较新的版本是pytorch与libtorch的1.2.0版本。

出现各种问题的时候可以查阅：https://blog.csdn.net/zzz_zzz12138/article/details/109138805

常见的错误有四个

## 由于找不到VCRUNTIME 140_1D.dll,无法继续执行代码

去 https://www.dll-files.com/ 下载一个

## error C2440: “初始化”: 无法从“torch::jit::script::Module”转换为“std::shared_ptr<torch::jit::script::Module>”
 libtorch 版本问题，看前文链接解决。

## 有未经处理的异常：Microsoft C++异常：c10::Error，位于内存位置xxx处

 大多数情况为libtorch与pytorch版本不一致导致的问题，看前文链接解决。

## error ：c2872 std 不明确的符号

原因不明，看前文链接解决。
